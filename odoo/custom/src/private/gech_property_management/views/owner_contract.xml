<odoo>
    <record id="action_owner_contract_type" model="ir.actions.act_window">
        <field name="name">Owner Contracts</field>
        <field name="res_model">owner.contract</field>
        <field name="view_mode">tree,kanban,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
            Create a Property Owner Contract
            </p><p>
            Create contracts, register payments and keep track of the discussions with your customers.
            </p>
        </field>
    </record>


    <record id="view_owner_contract_tree" model="ir.ui.view">
        <field name="name">owner.contract.tree.view</field>
        <field name="model">owner.contract</field>
        <field name="arch" type="xml">
            <tree>
                <field name="id" invisible="1"/>
                <field name="name" />
                <field name="contract_type" />

            </tree>

        </field>
    </record>

    <record id="view_owner_contract_form" model="ir.ui.view">
        <field name="name">owner.contract.form.view</field>
        <field name="model">owner.contract</field>
        <field name="arch" type="xml">
            <form>
                <field name="is_terminated" invisible="1" />
                <header>
                    <!-- <button
                        name="approved_building"
                        type="object"
                        string="All Checked"
                        class="btn btn-primary"
                        states="new"
                    />
                    <field
                        name="state"
                        widget="statusbar"
                        statusbar_visible="new,ok,archived"
                        options="{'clickable': '1'}"
                    /> -->
                </header>
                <sheet>
                    <group>
                        <group>
                            <field name="name" />
                            <field name="partner_id" />
                            <field name="payment_frequency" />
                            <field name="commission_product_id" />
                            <field name="contract_type" />
                        </group>
                        <group>
                            <field name="active" />
                            <field name="total_monthly_rent_occupied"/>
                            <field name="total_monthly_rent"/>
                            <field name="owner_period_payment" />
                            <field name="total_monthly_expense" />
                            <!-- <field name="total_monthly_expense" /> -->

                            <field name="commission_percentage" />
                            <field name="owner_contract_building_ids" widget="one2many_list">
                                <tree editable="bottom">
                                    <!-- Define the fields from the 'owner.contract.building' model that you want to display here -->
                                    <field name="building_id"/>
                                    <!-- Add other fields as needed -->
                                </tree>
                            </field>
                            <field name="rental_unit_ids" />
                        </group>
                    </group>
                    <group name="recurring_invoices">
                        <field name="line_recurrence" class="oe_inline" />
                        <label for="line_recurrence" />
                        <group attrs="{'invisible': [('line_recurrence', '=', True)]}">
                            <label for="recurring_interval" />
                            <div class="o_row">
                                <field
                                    name="recurring_interval"
                                    attrs="{'required': [('line_recurrence', '=', False)]}"
                                    class="oe_inline"
                                    nolabel="1"
                                />
                                <field
                                    name="recurring_rule_type"
                                    attrs="{'required': [('line_recurrence', '=', False)]}"
                                    class="oe_inline"
                                    nolabel="1"
                                />
                            </div>
                            <field
                                name="recurring_invoicing_type"
                                attrs="{'required': [('line_recurrence', '=', False)]}"
                            />
                        </group>
                        <group attrs="{'invisible': [('line_recurrence', '=', True)]}">
                            <field
                                name="date_start"
                                attrs="{'required': [('line_recurrence', '=', False)]}"
                            />
                            <field name="date_end" />
                            <field name="recurring_next_date" />
                        </group>
                    </group>
                    <notebook>
                        <page name="recurring_invoice_line" string="Recurring Invoices">
                            <field
                                name="contract_line_fixed_ids"
                                attrs="{'readonly': [('is_terminated','=',True)], 'invisible': [('line_recurrence', '=', True)]}"
                                widget="section_and_note_one2many"
                                context="{'default_contract_type': contract_type, 'default_recurring_rule_type': recurring_rule_type, 'default_recurring_invoicing_type': recurring_invoicing_type, 'default_recurring_interval': recurring_interval, 'default_date_start': date_start, 'default_recurring_next_date': recurring_next_date}"
                            >
                                <tree
                                    decoration-muted="is_canceled"
                                    decoration-info="create_invoice_visibility and not is_canceled"
                                    editable="bottom"
                                >
                                    <control>
                                        <create string="Add a line" />
                                        <create
                                            string="Add a section"
                                            context="{'default_display_type': 'line_section'}"
                                        />
                                        <create
                                            string="Add a note"
                                            context="{'default_display_type': 'line_note'}"
                                        />
                                    </control>
                                    <field name="currency_id" invisible="1" />
                                    <field name="display_type" invisible="1" />
                                    <field name="sequence" widget="handle" />
                                    <field name="product_id" />
                                    <field
                                        name="product_uom_category_id"
                                        invisible="1"
                                    />
                                    <field name="name" widget="section_and_note_text" />
                                    <!-- <field
                                        name="analytic_account_id"
                                        groups="analytic.group_analytic_accounting"
                                    /> -->
                                    <field name="quantity" />
                                    <field name="uom_id" />
                                    <field
                                        name="automatic_price"
                                        attrs="{'column_invisible': [('parent.contract_type', '=', 'purchase')]}"
                                    />
                                    <field
                                        name="price_unit"
                                        attrs="{'readonly': [('automatic_price', '=', True)]}"
                                    />
                                    <field name="specific_price" invisible="1" />
                                    <field name="discount" groups="base.group_no_one" />
                                    <field name="price_subtotal" />
                                    <field name="recurring_interval" invisible="1" />
                                    <field name="recurring_rule_type" invisible="1" />
                                    <field
                                        name="recurring_invoicing_type"
                                        invisible="1"
                                    />
                                    <field name="recurring_next_date" invisible="1" />
                                    <field name="date_start" invisible="1" />
                                    <field name="date_end" />
                                    <field
                                        name="last_date_invoiced"
                                        groups="base.group_no_one"
                                    />
                                    <field
                                        name="create_invoice_visibility"
                                        invisible="1"
                                    />
                                    <field
                                        name="is_plan_successor_allowed"
                                        invisible="1"
                                    />
                                    <field name="is_stop_allowed" invisible="1" />
                                    <field name="is_cancel_allowed" invisible="1" />
                                    <field name="is_un_cancel_allowed" invisible="1" />
                                    <field name="is_canceled" invisible="1" />
                                    <button
                                        name="action_plan_successor"
                                        string="Plan Start"
                                        type="object"
                                        icon="fa-calendar text-success"
                                        attrs="{'invisible': [('is_plan_successor_allowed', '=', False)]}"
                                    />
                                    <button
                                        name="action_stop"
                                        string="Stop"
                                        type="object"
                                        icon="fa-stop text-danger"
                                        attrs="{'invisible': [('is_stop_allowed', '=', False)]}"
                                    />
                                    <button
                                        name="cancel"
                                        string="Cancel"
                                        type="object"
                                        icon="fa-ban text-danger"
                                        confirm="Are you sure you want to cancel this line"
                                        attrs="{'invisible': [('is_cancel_allowed', '=', False)]}"
                                    />
                                    <button
                                        name="action_uncancel"
                                        string="Un-cancel"
                                        type="object"
                                        icon="fa-ban text-success"
                                        attrs="{'invisible': [('is_un_cancel_allowed', '=', False)]}"
                                    />
                                </tree>
                            </field>
                            <field
                                name="contract_line_ids"
                                attrs="{'readonly': [('is_terminated','=',True)], 'invisible': [('line_recurrence', '=', False)]}"
                                widget="section_and_note_one2many"
                                context="{'default_contract_type': contract_type}"
                            >
                                <tree
                                    decoration-muted="is_canceled"
                                    decoration-info="create_invoice_visibility and not is_canceled"
                                >
                                    <control>
                                        <create string="Add a line" />
                                        <create
                                            string="Add a section"
                                            context="{'default_display_type': 'line_section'}"
                                        />
                                        <create
                                            string="Add a note"
                                            context="{'default_display_type': 'line_note'}"
                                        />
                                    </control>
                                    <field name="currency_id" invisible="1" />
                                    <field name="display_type" invisible="1" />
                                    <field name="sequence" widget="handle" />
                                    <field name="product_id" />
                                    <field name="name" widget="section_and_note_text" />
                                    <!-- <field
                                        name="analytic_account_id"
                                        groups="analytic.group_analytic_accounting"
                                    /> -->
                                    <field name="quantity" />
                                    <field name="uom_id" />
                                    <field
                                        name="automatic_price"
                                        attrs="{'column_invisible': [('parent.contract_type', '=', 'purchase')]}"
                                    />
                                    <field
                                        name="price_unit"
                                        attrs="{'readonly': [('automatic_price', '=', True)]}"
                                    />
                                    <field name="specific_price" invisible="1" />
                                    <field name="discount" groups="base.group_no_one" />
                                    <field name="price_subtotal" />
                                    <field name="recurring_interval" invisible="1" />
                                    <field name="recurring_rule_type" invisible="1" />
                                    <field
                                        name="recurring_invoicing_type"
                                        invisible="1"
                                    />
                                    <field name="date_start" required="1" />
                                    <field name="date_end" />
                                    <field name="recurring_next_date" required="1" />
                                    <field
                                        name="last_date_invoiced"
                                        groups="base.group_no_one"
                                    />
                                    <field
                                        name="create_invoice_visibility"
                                        invisible="1"
                                    />
                                    <field
                                        name="is_plan_successor_allowed"
                                        invisible="1"
                                    />
                                    <field
                                        name="is_stop_plan_successor_allowed"
                                        invisible="1"
                                    />
                                    <field name="is_stop_allowed" invisible="1" />
                                    <field name="is_cancel_allowed" invisible="1" />
                                    <field name="is_un_cancel_allowed" invisible="1" />
                                    <field name="is_auto_renew" invisible="1" />
                                    <field name="is_canceled" invisible="1" />
                                    <button
                                        name="action_plan_successor"
                                        string="Plan Start"
                                        type="object"
                                        icon="fa-calendar text-success"
                                        attrs="{'invisible': [('is_plan_successor_allowed', '=', False)]}"
                                    />
                                    <button
                                        name="action_stop_plan_successor"
                                        string="Stop Plan Successor"
                                        type="object"
                                        icon="fa-pause text-muted"
                                        attrs="{'invisible': [('is_stop_plan_successor_allowed', '=', False)]}"
                                    />
                                    <button
                                        name="action_stop"
                                        string="Stop"
                                        type="object"
                                        icon="fa-stop text-danger"
                                        attrs="{'invisible': [('is_stop_allowed', '=', False)]}"
                                    />
                                    <button
                                        name="cancel"
                                        string="Cancel"
                                        type="object"
                                        icon="fa-ban text-danger"
                                        confirm="Are you sure you want to cancel this line"
                                        attrs="{'invisible': [('is_cancel_allowed', '=', False)]}"
                                    />
                                    <button
                                        name="action_uncancel"
                                        string="Un-cancel"
                                        type="object"
                                        icon="fa-ban text-success"
                                        attrs="{'invisible': [('is_un_cancel_allowed', '=', False)]}"
                                    />
                                    <button
                                        name="renew"
                                        string="Renew"
                                        type="object"
                                        icon="fa-fast-forward text-success"
                                        groups="base.group_no_one"
                                        attrs="{'invisible': [('is_auto_renew', '=', False)]}"
                                    />
                                </tree>
                            </field>
                            <field name="note" />
                        </page>
                        <page name="expense_line_ids" string="Expenses">
                            <field
                                name="expense_line_ids"
                            >
                                <tree editable="bottom">
                                    <field name="name" />
                                    <field name="expense_type" />
                                    <field name="expense_value" />
                                </tree>
                            </field>
                        </page>
                        <page name="modications" string="Modifications">
                            <field
                                name="modification_ids"
                                attrs="{'readonly': [('is_terminated','=',True)]}"
                            >
                                <tree editable="bottom">
                                    <field name="date" />
                                    <field name="description" />
                                    <field name="sent" />
                                </tree>
                            </field>
                        </page>
                        <page name="info" string="Other Information">
                            <field name="create_invoice_visibility" invisible="1" />
                            <group>
                                <field
                                    name="code"
                                    attrs="{'readonly': [('is_terminated','=',True)]}"
                                />
                                <field
                                    name="group_id"
                                    attrs="{'readonly': [('is_terminated','=',True)]}"
                                />
                                <field
                                    name="company_id"
                                    attrs="{'readonly': [('is_terminated','=',True)]}"
                                    options="{'no_create': True}"
                                    groups="base.group_multi_company"
                                />
                                <field
                                    name="currency_id"
                                    groups="base.group_multi_currency"
                                />
                                <field
                                    name="invoice_partner_id"
                                    attrs="{'readonly': [('is_terminated','=',True)]}"
                                    required="1"
                                />
                            </group>
                            <group
                                string="Legend (for the markers inside invoice lines description)"
                                name="group_legend"
                            >
                                <p colspan="2">
                                    <strong>#START#</strong>
                                    : Start
                                    date
                                    of the
                                    invoiced period
                                </p>
                                <p colspan="2">
                                    <strong>#END#</strong>
                                    : End date
                                    of
                                    the
                                    invoiced period
                                </p>
                            </group>
                        </page>
                    </notebook>

                </sheet>
            </form>
        </field>
    </record>
</odoo>
